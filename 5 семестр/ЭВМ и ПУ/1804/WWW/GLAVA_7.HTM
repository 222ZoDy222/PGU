<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./glava_7.files/filelist.xml">
<link rel=Edit-Time-Data href="./glava_7.files/editdata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>glava_7</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>User</o:Author>
  <o:Template>Normal</o:Template>
  <o:LastAuthor>User</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>0</o:TotalTime>
  <o:Created>2000-12-07T18:51:00Z</o:Created>
  <o:LastSaved>2000-12-07T18:51:00Z</o:LastSaved>
  <o:Pages>2</o:Pages>
  <o:Words>696</o:Words>
  <o:Characters>3970</o:Characters>
  <o:Company>ПГУ</o:Company>
  <o:Lines>33</o:Lines>
  <o:Paragraphs>7</o:Paragraphs>
  <o:CharactersWithSpaces>4875</o:CharactersWithSpaces>
  <o:Version>9.2812</o:Version>
 </o:DocumentProperties>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p
	{font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
@page Section1
	{size:595.3pt 841.9pt;
	margin:2.0cm 42.5pt 2.0cm 3.0cm;
	mso-header-margin:35.4pt;
	mso-footer-margin:35.4pt;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
 /* List Definitions */
@list l0
	{mso-list-id:675888198;
	mso-list-type:hybrid;
	mso-list-template-ids:873357280 1942890464 1078645998 1413669844 -303530454 2085257410 -157905410 -1372277776 -1891083608 829963328;}
@list l0:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F0B7;
	mso-level-tab-stop:36.0pt;
	mso-level-number-position:left;
	text-indent:-18.0pt;
	mso-ansi-font-size:10.0pt;
	font-family:Symbol;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="1027"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="1"/>
 </o:shapelayout></xml><![endif]-->
<meta name=Author content=Cherry>
</head>

<body bgcolor=white background="Pic\backgr2.jpg" lang=RU link=blue vlink=blue
style='tab-interval:35.4pt' nosave>

<div class=Section1>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-size:18.0pt'>КОДИРОВАНИЕ МИКРОПРОГРАММ.</span></p>

<p><span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; На этом этапе важным
моментом является определение начальных адресов участков микропрограмм для
различных команд проектируемой ЭВМ. Для БМУ с аппаратным формированием
начального адреса эти адреса определяются правилом, работы преобразователя
начального адреса ПНА. Для БМУ без аппаратного формирования начального адреса,
приведенного на рис.3, начальные адреса определяются по кодам команд
проектируемой ЭВМ. Рассмотрим этот&nbsp; процесс более подробно.</span> <br>
<span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; При выполнении алгоритма в
БМУ, приведенном на рис. 3, сначала определяется уровень команды, при этом
ветвление производится с помощью команд условного перехода с использованием в
качестве условий сигналов, поступающих с выхода схемы формирования уровней
СФУР. После разделения команд на 6 уровней в соответствии с. рис.5 производится
переход по коду команды внутри данного уровня. К шине адреса ветвления
(см.рис.3) могут подключаться либо старший, либо младший байты регистра команд
РК, поэтому при выборе начальных адресов&nbsp; необходимо следить,&nbsp; чтобы
не совпадали начальные адреса различных команд. Для хранения микрокоманд может
использоваться ПЗУ на 512 слов, что соответствует девятиразрядному адресу.</span>
<br>
<span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; Начальные адреса команд
уровня 1 (кроме байтовых) определяются кодами 00XXX1111 (Х=0 илй1) путем
маскирования старшего байта регистра команд маской 000001111 и перехода по
старшему байту РК. Например, команда MOV, имеющая в старшем байте код 00001АААА
(А - биты, определяющие адресную часть команды в старшем байте),имеет начальный
адрес 000011111; команды СМР имеют начальный адрес 000101111 и т.д. Необходимо
отметить, что адрес 000001111 останется свободным, так как среди команд первого
уровня нет команд, имеющих подобный код.</span> </p>

<p align=center style='text-align:center'><img width=553 height=464
id="_x0000_i1025" src="Pic\image018.JPG" NOSAVE></p>

<p class=MsoNormal><span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; К уровню
2.1 относится только одна команда, и ее начальный адрес, может быть помещен в
любую&nbsp; ячейку ПЗУ. К уровню 2.2 относятся одноадресные команды. В этом
уровне могут&nbsp; изменяться биты как в старшем, так и младшем байтах кода
команды. Разделение командам в этом уровне осуществляется в два этапа: сначала
производится переход по старшему байту РК без маскирования (адреса 000001ХХХ),
а затем в БОД определяются биты 7 и 6 в младшем байте кода команды и
производится ветвление с использованием обычных микрокоманд условного перехода.
Адреса ячеек, куда производится переход, выбираются из свободных ячеек ПЗУ.</span>
<br>
<span style='font-size:13.5pt'>Начальные адреса команд уровня 3 определяются
кодами 0X0000ХХХ при переходе на адрес из старшего байта регистра команд.</span>
<br>
<span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; Начальные адреса команд
уровня 4 определяются&nbsp; кодами 1XXXXXXXX (маска 100000000) при переходе на
адрес по младшему байту регистра команд.</span> <br>
<span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; Начальные адреса команд
уровня 5 определяются кодами 100000ХХХ (маска 100000000) при переходе на адрес
по младшему байту регистра команд.</span> <br>
<span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; Аналогично определяются
начальные адреса алгоритмов для различных способов адресации. Начальные адреса
первого операнда определяются кодами 11111ХХХ1 путем маскирования маской
111110001, а начальные адреса второго операнда - кодами 011ХХХ111 (маска
011000111).</span> <br>
<span style='font-size:13.5pt'>Однако полностью избежать дублирования начальных
адресов не удается. Так, например, при обработке команды 4 уровня SWAB возможно
попадание, на адрес 111111111. На этот же адрес будет осуществляться переход и
при способе адресации 7через регистр 7.</span> <br>
<span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; В подобных случаях необходимо
либо увеличить емкость ПЗУ, либо применять специальные приемы. Например, можно
поступить следующим образом: при переходе на адрес 111111111 при обработке команды
в свободный регистр МС1804ВС1 занести 1, при переходе при обработке операндов в
этот же регистр занести 0, а затем разделить эти варианты с помощью команды
условного перехода.</span> <br>
<span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; При использовании ПЗУ
емкостью 1024 слова всю область памяти удобно разбить на следующие области:</span>
</p>

<ul type=disc>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo1;tab-stops:list 36.0pt'><span style='font-size:
     13.5pt'>0000-0377 - область для переходов по старшему байту регистра
     команд;</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo1;tab-stops:list 36.0pt'><span style='font-size:
     13.5pt'>0400-0777 - область для переходов по младшему байту регистра
     команд;</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo1;tab-stops:list 36.0pt'><span style='font-size:
     13.5pt'>1000-1377 - область для переходов по способу адресации первого
     операнда;</span></li>
 <li class=MsoNormal style='mso-margin-top-alt:auto;mso-margin-bottom-alt:auto;
     mso-list:l0 level1 lfo1;tab-stops:list 36.0pt'><span style='font-size:
     13.5pt'>1400-1777 - область для переходов по способу адресации второго
     операнда.</span></li>
</ul>

<p class=MsoNormal><span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; При таком
разбиении начальные адреса дублироваться не будут.</span> <br>
<span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; После определения начальных
адресов необходимо выделить&nbsp; участки ПЗУ для общих частей всех команд:
выборка команды, ее дешифрация, выборка операндов и т.д.</span> <br>
<span style='font-size:13.5pt'>&nbsp;&nbsp;&nbsp; При составлении
микропрограммы необходимо следить затем, чтобы микропрограмма обработки
какой-либо команды не наложилась на начальный адрес следующей команды. Если не
хватит ячеек ПЗУ для кодирования какой-либо команды, можно перейти по
микрокоманде&nbsp; безусловного перехода в свободную область памяти и там
продолжить микропрограмму обработки данной команды.</span> </p>

<p align=center style='text-align:center'><span style='font-size:13.5pt'><a
href="glava_6.htm">Назад </a>| <a href="index.htm">Содержание</a> | <a
href="glava_8.htm">Вперед</a></span></p>

</div>

</body>

</html>
